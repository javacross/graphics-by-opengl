#version 300 es
/**
 * Functions for gltf PBR model
 */
precision highp float;

void positionLight() {
    vec4 pos = vec4(POSITION, 1.0) * uModelMatrix[0] * uModelMatrix[1];
    gl_Position = pos * uModelMatrix[2];
    vNormal = normalize(NORMAL * mat3(uModelMatrix[0]));
    vLight = normalize(_LIGHT_0[0] - vec3(pos));
    vEye = normalize(-vec3(pos));
    vLightOut = reflect(vLight, vNormal);
    vU = (vLightOut + vLight) * 0.5;
}

